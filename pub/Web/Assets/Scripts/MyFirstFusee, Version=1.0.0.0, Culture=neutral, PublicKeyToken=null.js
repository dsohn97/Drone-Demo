/* Generated by JSIL v0.8.2 build 31050. See http://jsil.org/ for more information. */ 
'use strict';
var $asm25 = JSIL.DeclareAssembly("MyFirstFusee, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null");

JSIL.DeclareNamespace("FuseeApp");
/* enum FuseeApp.CameraType */ 

JSIL.MakeEnum(
  {
    FullName: "FuseeApp.CameraType", 
    BaseType: $asm0F.TypeRef("System.Int32"), 
    IsPublic: false, 
    IsFlags: false, 
  }, 
  {
    FREE: 0, 
    FOLLOW: 1, 
    DRONE: 2, 
    Reset: 3, 
  }
);

/* class FuseeApp.MyFirstFusee */ 

(function MyFirstFusee$Members () {
  var $, $thisType;
  var $T00 = function () {
    return ($T00 = JSIL.Memoize($asm0A.Fusee.Math.Core.float3)) ();
  };
  var $T01 = function () {
    return ($T01 = JSIL.Memoize($asm0A.Fusee.Math.Core.float4x4)) ();
  };
  var $T02 = function () {
    return ($T02 = JSIL.Memoize($asm04.Fusee.Engine.Core.RenderCanvas)) ();
  };
  var $T03 = function () {
    return ($T03 = JSIL.Memoize($asm03.Fusee.Engine.Common.IInputDeviceImp)) ();
  };
  var $T04 = function () {
    return ($T04 = JSIL.Memoize($asm0F.System.NotImplementedException)) ();
  };
  var $T05 = function () {
    return ($T05 = JSIL.Memoize($asm0F.System.Single)) ();
  };
  var $T06 = function () {
    return ($T06 = JSIL.Memoize($asm04.Fusee.Engine.Core.MouseDevice)) ();
  };
  var $T07 = function () {
    return ($T07 = JSIL.Memoize($asm04.Fusee.Engine.Core.Input)) ();
  };
  var $T08 = function () {
    return ($T08 = JSIL.Memoize($asm04.Fusee.Engine.Core.RenderContext)) ();
  };
  var $T09 = function () {
    return ($T09 = JSIL.Memoize($asm0F.System.Boolean)) ();
  };
  var $T0A = function () {
    return ($T0A = JSIL.Memoize($asm04.Fusee.Engine.Core.Time)) ();
  };
  var $T0B = function () {
    return ($T0B = JSIL.Memoize($asm04.Fusee.Engine.Core.KeyboardDevice)) ();
  };
  var $T0C = function () {
    return ($T0C = JSIL.Memoize($asm03.Fusee.Engine.Common.KeyCodes)) ();
  };
  var $T0D = function () {
    return ($T0D = JSIL.Memoize($asm0F.System.Random)) ();
  };
  var $T0E = function () {
    return ($T0E = JSIL.Memoize($asm0F.System.Int32)) ();
  };
  var $T0F = function () {
    return ($T0F = JSIL.Memoize($asm0B.Fusee.Serialization.TransformComponent)) ();
  };
  var $T10 = function () {
    return ($T10 = JSIL.Memoize($asm0F.System.Predicate$b1.Of($asm0B.Fusee.Serialization.SceneNodeContainer))) ();
  };
  var $T11 = function () {
    return ($T11 = JSIL.Memoize($asm0A.Fusee.Math.Core.float4)) ();
  };
  var $T12 = function () {
    return ($T12 = JSIL.Memoize($asm0B.Fusee.Serialization.SceneContainer)) ();
  };
  var $T13 = function () {
    return ($T13 = JSIL.Memoize($asm01.Fusee.Base.Core.AssetStorage)) ();
  };
  var $T14 = function () {
    return ($T14 = JSIL.Memoize($asm04.Fusee.Engine.Core.SceneRenderer)) ();
  };
  var $T15 = function () {
    return ($T15 = JSIL.Memoize($asm0F.System.Collections.Generic.IEnumerable$b1.Of($asm0B.Fusee.Serialization.SceneNodeContainer))) ();
  };
  var $T16 = function () {
    return ($T16 = JSIL.Memoize($asm25.FuseeApp.MyFirstFusee_$l$gc)) ();
  };
  var $T17 = function () {
    return ($T17 = JSIL.Memoize($asm0D.Fusee.Xene.SceneFinderExtensions)) ();
  };
  var $T18 = function () {
    return ($T18 = JSIL.Memoize($asm0B.Fusee.Serialization.SceneNodeContainer)) ();
  };
  var $T19 = function () {
    return ($T19 = JSIL.Memoize($asm15.System.Linq.Enumerable)) ();
  };
  var $T1A = function () {
    return ($T1A = JSIL.Memoize($asm0D.Fusee.Xene.ContainerExtensions)) ();
  };
  var $T1B = function () {
    return ($T1B = JSIL.Memoize($asm0A.Fusee.Math.Core.Quaternion)) ();
  };
  var $T1C = function () {
    return ($T1C = JSIL.Memoize($asm03.Fusee.Engine.Common.ClearFlags)) ();
  };
  var $T1D = function () {
    return ($T1D = JSIL.Memoize($asm25.FuseeApp.CameraType)) ();
  };
  var $T1E = function () {
    return ($T1E = JSIL.Memoize($asm01.Fusee.Base.Core.Diagnostics)) ();
  };
  var $T1F = function () {
    return ($T1F = JSIL.Memoize($asm0F.System.String)) ();
  };
  var $S00 = function () {
    return ($S00 = JSIL.Memoize(new JSIL.ConstructorSignature($asm0A.Fusee.Math.Core.float3, [
        $asm0F.System.Single, $asm0F.System.Single, 
        $asm0F.System.Single
      ]))) ();
  };
  var $S01 = function () {
    return ($S01 = JSIL.Memoize(new JSIL.ConstructorSignature($asm0F.System.NotImplementedException, null))) ();
  };
  var $S02 = function () {
    return ($S02 = JSIL.Memoize(new JSIL.MethodSignature($asm0A.Fusee.Math.Core.float3, [$asm0A.Fusee.Math.Core.float3, $asm0F.System.Single]))) ();
  };
  var $S03 = function () {
    return ($S03 = JSIL.Memoize(new JSIL.ConstructorSignature($asm0A.Fusee.Math.Core.float3, [$asm0A.Fusee.Math.Core.float3]))) ();
  };
  var $S04 = function () {
    return ($S04 = JSIL.Memoize(new JSIL.MethodSignature($asm0A.Fusee.Math.Core.float3, [$asm0F.System.Single, $asm0A.Fusee.Math.Core.float3]))) ();
  };
  var $S05 = function () {
    return ($S05 = JSIL.Memoize(new JSIL.MethodSignature($asm0A.Fusee.Math.Core.float3, [$asm0A.Fusee.Math.Core.float3, $asm0A.Fusee.Math.Core.Quaternion]))) ();
  };
  var $S06 = function () {
    return ($S06 = JSIL.Memoize(new JSIL.ConstructorSignature($asm0F.System.Random, null))) ();
  };
  var $S07 = function () {
    return ($S07 = JSIL.Memoize(new JSIL.ConstructorSignature($asm0A.Fusee.Math.Core.float4, [
        $asm0F.System.Single, $asm0F.System.Single, 
        $asm0F.System.Single, $asm0F.System.Single
      ]))) ();
  };
  var $S08 = function () {
    return ($S08 = JSIL.Memoize(new JSIL.ConstructorSignature($asm04.Fusee.Engine.Core.SceneRenderer, [$asm0B.Fusee.Serialization.SceneContainer]))) ();
  };
  var $S09 = function () {
    return ($S09 = JSIL.Memoize(new JSIL.MethodSignature($asm0F.System.Boolean, [$asm0B.Fusee.Serialization.SceneNodeContainer]))) ();
  };
  var $S0A = function () {
    return ($S0A = JSIL.Memoize(new JSIL.MethodSignature($asm0F.System.Collections.Generic.IEnumerable$b1.Of($asm0B.Fusee.Serialization.SceneNodeContainer), [$asm0F.System.Collections.Generic.IEnumerable$b1.Of($asm0B.Fusee.Serialization.SceneNodeContainer), $asm0F.System.Predicate$b1.Of($asm0B.Fusee.Serialization.SceneNodeContainer)]))) ();
  };
  var $S0B = function () {
    return ($S0B = JSIL.Memoize(new JSIL.MethodSignature("!!0", [$asm0F.TypeRef("System.Collections.Generic.IEnumerable`1", ["!!0"])], ["TSource"]))) ();
  };
  var $S0C = function () {
    return ($S0C = JSIL.Memoize(new JSIL.MethodSignature($asm0F.System.Boolean, [$asm0B.Fusee.Serialization.SceneNodeContainer]))) ();
  };
  var $S0D = function () {
    return ($S0D = JSIL.Memoize(new JSIL.MethodSignature($asm0F.System.Boolean, [$asm0B.Fusee.Serialization.SceneNodeContainer]))) ();
  };
  var $S0E = function () {
    return ($S0E = JSIL.Memoize(new JSIL.MethodSignature($asm0F.System.Boolean, [$asm0B.Fusee.Serialization.SceneNodeContainer]))) ();
  };
  var $S0F = function () {
    return ($S0F = JSIL.Memoize(new JSIL.MethodSignature($asm0F.System.Boolean, [$asm0B.Fusee.Serialization.SceneNodeContainer]))) ();
  };
  var $S10 = function () {
    return ($S10 = JSIL.Memoize(new JSIL.MethodSignature($asm0F.System.Boolean, [$asm0B.Fusee.Serialization.SceneNodeContainer]))) ();
  };
  var $S11 = function () {
    return ($S11 = JSIL.Memoize(new JSIL.MethodSignature($asm0A.Fusee.Math.Core.Quaternion, [$asm0A.Fusee.Math.Core.Quaternion, $asm0A.Fusee.Math.Core.Quaternion]))) ();
  };


  function MyFirstFusee__ctor () {
    this.i = 1;
    this.idle = 0;
    this.MovementSpeed = 12;
    this.WorldUp = $S00().Construct(0, 1, 0);
    this.Up = $S00().Construct(0, 1, 0);
    this.Projection = $T01().Identity.MemberwiseClone();
    this.d = 5;
    this.k = 0;
    $T02().prototype._ctor.call(this);
  }; 

  function MyFirstFusee_Creator (device) {
    throw $S01().Construct();
  }; 

  function MyFirstFusee_DroneCamera () {
    this.tilt();
    var translation = this._CubeTransform.Translation.MemberwiseClone();
    var left = $S00().Construct(this._CubeTransform.Translation.x, (+this._CubeTransform.Translation.y + 1), (+this._CubeTransform.Translation.z - +this.d));
    var y = +this._CubeTransform.Rotation.y;
    this.Movement($T07().get_Mouse().get_XVel());
    var translation2 = this._CubeTransform.Translation.MemberwiseClone();
    var vec = $T00().Normalize($T00().op_Subtraction(left.MemberwiseClone(), translation2.MemberwiseClone()).MemberwiseClone()).MemberwiseClone();
    var float = $T00().op_Addition(translation2.MemberwiseClone(), $S02().CallStatic($T00(), "op_Multiply", null, vec.MemberwiseClone(), this.d).MemberwiseClone()).MemberwiseClone();
    var view = $T01().LookAt($T00().op_Addition($S03().Construct(translation.MemberwiseClone()), $S04().CallStatic($T00(), "op_Multiply", null, this.d, $S05().CallStatic($T00(), "Transform", null, $T00().UnitZ.MemberwiseClone(), this.orientation(y, -0.3).MemberwiseClone()).MemberwiseClone()).MemberwiseClone()).MemberwiseClone(), $S03().Construct(this._CubeTransform.Translation.MemberwiseClone()), $T00().UnitY.MemberwiseClone()).MemberwiseClone();
    (this.RenderCanvas$RC$value.View = view.MemberwiseClone());
  }; 

  function MyFirstFusee_FollowCamera () {
    this.tilt();
    var translation = this._CubeTransform.Translation.MemberwiseClone();
    var left = $S00().Construct(this._CubeTransform.Translation.x, (+this._CubeTransform.Translation.y + 1), (+this._CubeTransform.Translation.z - +this.d));
    this.Movement($T07().get_Mouse().get_XVel());
    var translation2 = this._CubeTransform.Translation.MemberwiseClone();
    var vec = $T00().Normalize($T00().op_Subtraction(left.MemberwiseClone(), translation2.MemberwiseClone()).MemberwiseClone()).MemberwiseClone();
    var float = $T00().op_Addition(translation2.MemberwiseClone(), $S02().CallStatic($T00(), "op_Multiply", null, vec.MemberwiseClone(), this.d).MemberwiseClone()).MemberwiseClone();
    var rightButton = $T07().get_Mouse().get_RightButton();
    if (rightButton) {
      this.Yaw = +this.Yaw + (+$T07().get_Mouse().get_XVel() * 0.0005);
      this.Pitch = +this.Pitch + (+$T07().get_Mouse().get_YVel() * 0.0005);
    }
    var view = $T01().LookAt($T00().op_Addition($S03().Construct(this._CubeTransform.Translation.MemberwiseClone()), $S04().CallStatic($T00(), "op_Multiply", null, 5, $S05().CallStatic($T00(), "Transform", null, $T00().UnitZ.MemberwiseClone(), this.orientation(this.Yaw, this.Pitch).MemberwiseClone()).MemberwiseClone()).MemberwiseClone()).MemberwiseClone(), $S03().Construct(this._CubeTransform.Translation.MemberwiseClone()), $T00().UnitY.MemberwiseClone()).MemberwiseClone();
    (this.RenderCanvas$RC$value.View = view.MemberwiseClone());
  }; 

  function MyFirstFusee_FreeCamera () {
    var leftButton = $T07().get_Mouse().get_LeftButton();
    if (leftButton) {
      this.Yaw = +this.Yaw + (+$T07().get_Mouse().get_XVel() * 0.0005);
      this.Pitch = +this.Pitch + (+$T07().get_Mouse().get_YVel() * 0.0005);
    }
    var num = +this.MovementSpeed * +$T0A().get_DeltaTime();
    var key = $T07().get_Keyboard().GetKey($T0C().W);
    if (key) {
      this.MoveZLocal(+$T07().get_Keyboard().get_WSAxis() * num, this.Yaw, this.Pitch);
    }
    var key2 = $T07().get_Keyboard().GetKey($T0C().S);
    if (key2) {
      this.MoveZLocal(+$T07().get_Keyboard().get_WSAxis() * num, this.Yaw, this.Pitch);
    }
    var key3 = $T07().get_Keyboard().GetKey($T0C().D);
    if (key3) {
      this.MoveXLocal(+$T07().get_Keyboard().get_ADAxis() * num, this.Yaw, this.Pitch);
    }
    var key4 = $T07().get_Keyboard().GetKey($T0C().A);
    if (key4) {
      this.MoveXLocal(+$T07().get_Keyboard().get_ADAxis() * num, this.Yaw, this.Pitch);
    }
    var key5 = $T07().get_Keyboard().GetKey($T0C().R);
    if (key5) {
      this.position.y = +this.position.y + num;
    }
    var key6 = $T07().get_Keyboard().GetKey($T0C().F);
    if (key6) {
      this.position.y = +this.position.y - num;
    }
    this.RotateCamera(this.Yaw, this.Pitch);
  }; 

  function MyFirstFusee_get_cameraType () {
    return this.get_cameraType();
  }; 

  function MyFirstFusee_Idle () {
    var random = $S06().Construct();
    var num = (random.Next(0, 3) | 0);
    if (+this.idle <= 0.5) {
      var expr_35_cp_0_cp_0 = this._CubeTransform;
      expr_35_cp_0_cp_0.Translation.y = +expr_35_cp_0_cp_0.Translation.y + 0.0015;
      this.idle = +this.idle + (+num * 0.004);
    }
    if ((this.idle > 0.5) && (+this.idle <= 1)) {
      var expr_8E_cp_0_cp_0 = this._CubeTransform;
      expr_8E_cp_0_cp_0.Translation.y = +expr_8E_cp_0_cp_0.Translation.y - 0.0015;
      this.idle = +this.idle + (+num * 0.004);
    }
    if (+this.idle >= 0.99) {
      this.idle = 0.01;
    }
  }; 

  function MyFirstFusee_Init () {
    var arg_72_1 = null, arg_C0_1 = null, arg_10E_1 = null, arg_15C_1 = null, arg_1AA_1 = null, arg_1F8_1 = null;
    (this.RenderCanvas$RC$value.ClearColor = $S07().Construct(0.7, 0.9, 0.5, 1));
    this._droneScene = $T13().Get$b1($T12())("GroundNoMat.fus");
    this._sceneRenderer = $S08().Construct(this._droneScene);
    var arg_72_0 = this._droneScene.Children;
    if ((arg_72_1 = $T16().$l$g9__42_0) === null) {
      arg_72_1 = $T16().$l$g9__42_0 = $T10().New($T16().$l$g9, null, new JSIL.MethodPointerInfo($asm25.FuseeApp.MyFirstFusee_$l$gc, "$lInit$gb__42_0", $S09(), false, false));
    }
    var expr_77 = $S0A().CallStatic($T17(), "FindNodes", null, arg_72_0, arg_72_1);
    if (expr_77 === null) {
      var arg_90_1 = null;
    } else {
      var expr_83 = $S0B().CallStatic($T19(), "FirstOrDefault$b1", [$asm0B.Fusee.Serialization.SceneNodeContainer], expr_77);
      arg_90_1 = (
        (expr_83 !== null)
           ? $T1A().GetTransform(expr_83, 0)
           : null)
      ;
    }
    this._CubeTransform = arg_90_1;
    var arg_C0_0 = this._droneScene.Children;
    if ((arg_C0_1 = $T16().$l$g9__42_1) === null) {
      arg_C0_1 = $T16().$l$g9__42_1 = $T10().New($T16().$l$g9, null, new JSIL.MethodPointerInfo($asm25.FuseeApp.MyFirstFusee_$l$gc, "$lInit$gb__42_1", $S0C(), false, false));
    }
    var expr_C5 = $S0A().CallStatic($T17(), "FindNodes", null, arg_C0_0, arg_C0_1);
    if (expr_C5 === null) {
      var arg_DE_1 = null;
    } else {
      var expr_D1 = $S0B().CallStatic($T19(), "FirstOrDefault$b1", [$asm0B.Fusee.Serialization.SceneNodeContainer], expr_C5);
      arg_DE_1 = (
        (expr_D1 !== null)
           ? $T1A().GetTransform(expr_D1, 0)
           : null)
      ;
    }
    this._RLBTransform = arg_DE_1;
    var arg_10E_0 = this._droneScene.Children;
    if ((arg_10E_1 = $T16().$l$g9__42_2) === null) {
      arg_10E_1 = $T16().$l$g9__42_2 = $T10().New($T16().$l$g9, null, new JSIL.MethodPointerInfo($asm25.FuseeApp.MyFirstFusee_$l$gc, "$lInit$gb__42_2", $S0D(), false, false));
    }
    var expr_113 = $S0A().CallStatic($T17(), "FindNodes", null, arg_10E_0, arg_10E_1);
    if (expr_113 === null) {
      var arg_12C_1 = null;
    } else {
      var expr_11F = $S0B().CallStatic($T19(), "FirstOrDefault$b1", [$asm0B.Fusee.Serialization.SceneNodeContainer], expr_113);
      arg_12C_1 = (
        (expr_11F !== null)
           ? $T1A().GetTransform(expr_11F, 0)
           : null)
      ;
    }
    this._RLFTransform = arg_12C_1;
    var arg_15C_0 = this._droneScene.Children;
    if ((arg_15C_1 = $T16().$l$g9__42_3) === null) {
      arg_15C_1 = $T16().$l$g9__42_3 = $T10().New($T16().$l$g9, null, new JSIL.MethodPointerInfo($asm25.FuseeApp.MyFirstFusee_$l$gc, "$lInit$gb__42_3", $S0E(), false, false));
    }
    var expr_161 = $S0A().CallStatic($T17(), "FindNodes", null, arg_15C_0, arg_15C_1);
    if (expr_161 === null) {
      var arg_17A_1 = null;
    } else {
      var expr_16D = $S0B().CallStatic($T19(), "FirstOrDefault$b1", [$asm0B.Fusee.Serialization.SceneNodeContainer], expr_161);
      arg_17A_1 = (
        (expr_16D !== null)
           ? $T1A().GetTransform(expr_16D, 0)
           : null)
      ;
    }
    this._RRBTransform = arg_17A_1;
    var arg_1AA_0 = this._droneScene.Children;
    if ((arg_1AA_1 = $T16().$l$g9__42_4) === null) {
      arg_1AA_1 = $T16().$l$g9__42_4 = $T10().New($T16().$l$g9, null, new JSIL.MethodPointerInfo($asm25.FuseeApp.MyFirstFusee_$l$gc, "$lInit$gb__42_4", $S0F(), false, false));
    }
    var expr_1AF = $S0A().CallStatic($T17(), "FindNodes", null, arg_1AA_0, arg_1AA_1);
    if (expr_1AF === null) {
      var arg_1C8_1 = null;
    } else {
      var expr_1BB = $S0B().CallStatic($T19(), "FirstOrDefault$b1", [$asm0B.Fusee.Serialization.SceneNodeContainer], expr_1AF);
      arg_1C8_1 = (
        (expr_1BB !== null)
           ? $T1A().GetTransform(expr_1BB, 0)
           : null)
      ;
    }
    this._RRFTransform = arg_1C8_1;
    var arg_1F8_0 = this._droneScene.Children;
    if ((arg_1F8_1 = $T16().$l$g9__42_5) === null) {
      arg_1F8_1 = $T16().$l$g9__42_5 = $T10().New($T16().$l$g9, null, new JSIL.MethodPointerInfo($asm25.FuseeApp.MyFirstFusee_$l$gc, "$lInit$gb__42_5", $S10(), false, false));
    }
    var expr_1FD = $S0A().CallStatic($T17(), "FindNodes", null, arg_1F8_0, arg_1F8_1);
    if (expr_1FD === null) {
      var arg_216_1 = null;
    } else {
      var expr_209 = $S0B().CallStatic($T19(), "FirstOrDefault$b1", [$asm0B.Fusee.Serialization.SceneNodeContainer], expr_1FD);
      arg_216_1 = (
        (expr_209 !== null)
           ? $T1A().GetTransform(expr_209, 0)
           : null)
      ;
    }
    this._CamTransform = arg_216_1;
  }; 

  function MyFirstFusee_Movement (RotType) {
    var leftButton = $T07().get_Mouse().get_LeftButton();
    if (leftButton) {
      this.newYRot = +this._CubeTransform.Rotation.y + (+RotType * 0.0005);
    }
    this._CubeTransform.Rotation.y = +this.newYRot;
    var flag = +$T07().get_Keyboard().get_WSAxis() === 0;
    if (flag) {
      this.speedx = 0.02;
    }
    var flag2 = +$T07().get_Keyboard().get_ADAxis() === 0;
    if (flag2) {
      this.speedz = 0.02;
    }
    var flag3 = +$T07().get_Keyboard().get_WSAxis() !== 0;
    if (flag3) {
      if (+this.speedx <= 0.5) {
        this.speedx = +this.speedx + 0.005;
      }
    }
    var flag5 = +$T07().get_Keyboard().get_ADAxis() !== 0;
    if (flag5) {
      if (+this.speedz <= 0.5) {
        this.speedz = +this.speedz + 0.005;
      }
    }
    var scale = -$T07().get_Keyboard().get_WSAxis() * +this.speedx;
    var scale2 = -$T07().get_Keyboard().get_ADAxis() * +this.speedz;
    var float = this._CubeTransform.Translation.MemberwiseClone();
    float = $T00().op_Addition(float.MemberwiseClone(), $S05().CallStatic($T00(), "Transform", null, 
        $S02().CallStatic($T00(), "op_Multiply", null, $T00().UnitX.MemberwiseClone(), scale2).MemberwiseClone(), 
        this.orientation(this.newYRot, 0).MemberwiseClone()
      ).MemberwiseClone()).MemberwiseClone();
    float = $T00().op_Addition(float.MemberwiseClone(), $S05().CallStatic($T00(), "Transform", null, 
        $S02().CallStatic($T00(), "op_Multiply", null, $T00().UnitZ.MemberwiseClone(), scale).MemberwiseClone(), 
        this.orientation(this.newYRot, 0).MemberwiseClone()
      ).MemberwiseClone()).MemberwiseClone();
    var key = $T07().get_Keyboard().GetKey($T0C().R);
    if (key) {
      float.y = +float.y + 0.1;
    }
    var key2 = $T07().get_Keyboard().GetKey($T0C().F);
    if (key2) {
      this.height = 0.1;
      var flag7 = +float.y <= 0.5;
      if (flag7) {
        this.height = 0;
      }
      float.y = +float.y - +this.height;
    }
    this._CubeTransform.Translation = $S00().Construct(float.x, float.y, float.z);
  }; 

  function MyFirstFusee_MoveRotorPermanently () {
    if (+this.i < 35) {
      this.i = +this.i + 0.05;
    }
    this._RLBTransform.Rotation.y = +this.i * +$T0A().get_TimeSinceStart();
    this._RLFTransform.Rotation.y = +this.i * +$T0A().get_TimeSinceStart();
    this._RRFTransform.Rotation.y = -this.i * +$T0A().get_TimeSinceStart();
    this._RRBTransform.Rotation.y = -this.i * +$T0A().get_TimeSinceStart();
  }; 

  function MyFirstFusee_MoveXLocal (a, Yaw, Pitch) {
    this.position = $T00().op_Addition(this.position.MemberwiseClone(), $S05().CallStatic($T00(), "Transform", null, 
        $S02().CallStatic($T00(), "op_Multiply", null, $T00().UnitX.MemberwiseClone(), a).MemberwiseClone(), 
        this.orientation(Yaw, Pitch).MemberwiseClone()
      ).MemberwiseClone()).MemberwiseClone();
  }; 

  function MyFirstFusee_MoveZLocal (a, Yaw, Pitch) {
    this.position = $T00().op_Addition(this.position.MemberwiseClone(), $S05().CallStatic($T00(), "Transform", null, 
        $S02().CallStatic($T00(), "op_Multiply", null, $T00().UnitZ.MemberwiseClone(), a).MemberwiseClone(), 
        this.orientation(Yaw, Pitch).MemberwiseClone()
      ).MemberwiseClone()).MemberwiseClone();
  }; 

  function MyFirstFusee_orientation (Yaw, Pitch) {
    this.Orientation = $S11().CallStatic($T1B(), "op_Multiply", null, 
      $T1B().FromAxisAngle($T00().UnitY.MemberwiseClone(), Yaw).MemberwiseClone(), 
      $T1B().FromAxisAngle($T00().UnitX.MemberwiseClone(), Pitch).MemberwiseClone()
    ).MemberwiseClone();
    return this.Orientation;
  }; 

  function MyFirstFusee_RenderAFrame () {
    (this.RenderCanvas$RC$value).Clear($T1C().$Flags("Color", "Depth"));
    this.k = (((this.k | 0) + 1) | 0);
    if ((this.k | 0) >= 25) {
      var key = $T07().get_Keyboard().GetKey($T0C().Q);
      if (key) {
        this._cameraType = $asm25.FuseeApp.CameraType.$Cast(this._cameraType + 1);
        this.k = 0;
        if (this._cameraType === $T1D().Reset) {
          this._cameraType = $T1D().FREE;
        }
        $T1E().Log(JSIL.ConcatString("Der Camera Typ ist ", this._cameraType));
      }
    }
    this.MoveRotorPermanently();
    this.Idle();
    if (this._cameraType === $T1D().FOLLOW) {
      this.FollowCamera();
    }
    if (this._cameraType === $T1D().FREE) {
      this.FreeCamera();
    }
    if (this._cameraType === $T1D().DRONE) {
      this.DroneCamera();
    }
    (this._sceneRenderer).Render(this.RenderCanvas$RC$value);
    this.Present();
  }; 

  function MyFirstFusee_Resize () {
    (this.RenderCanvas$RC$value).Viewport(
      0, 
      0, 
      this.get_Width(), 
      this.get_Height()
    );
    var aspect = +((+(this.get_Width()) / +(this.get_Height())));
    var projection = $T01().CreatePerspectiveFieldOfView(0.7853982, aspect, 0.01, 200);
    (this.RenderCanvas$RC$value.Projection = projection.MemberwiseClone());
  }; 

  function MyFirstFusee_RotateCamera (Yaw, Pitch) {
    var right = $S05().CallStatic($T00(), "Transform", null, $T00().UnitZ.MemberwiseClone(), this.orientation(Yaw, Pitch).MemberwiseClone()).MemberwiseClone();
    this.Model = $T01().LookAt(this.position.MemberwiseClone(), $T00().op_Addition(this.position.MemberwiseClone(), right.MemberwiseClone()).MemberwiseClone(), $T00().UnitY.MemberwiseClone()).MemberwiseClone();
    (this.RenderCanvas$RC$value.View = this.Model.MemberwiseClone());
  }; 

  function MyFirstFusee_set_cameraType (value) {
    this.set_cameraType((
        ($asm25.FuseeApp.CameraType.$Cast(this.get_cameraType() + 1) <= $T1D().DRONE)
           ? value
           : $T1D().FREE)
    );
  }; 

  function MyFirstFusee_tilt () {
    var flag = +$T07().get_Keyboard().get_WSAxis() === 0;
    if (flag) {
      if (+this._CubeTransform.Rotation.x > 0) {
        var expr_42_cp_0_cp_0 = this._CubeTransform;
        expr_42_cp_0_cp_0.Rotation.x = +expr_42_cp_0_cp_0.Rotation.x - 0.01;
      }
      if (+this._CubeTransform.Rotation.x < 0) {
        var expr_76_cp_0_cp_0 = this._CubeTransform;
        expr_76_cp_0_cp_0.Rotation.x = +expr_76_cp_0_cp_0.Rotation.x + 0.01;
      }
    }
    var flag4 = -$T07().get_Keyboard().get_WSAxis() < 0;
    if (flag4) {
      if (this._CubeTransform.Rotation.x > -0.2) {
        var expr_C8_cp_0_cp_0 = this._CubeTransform;
        expr_C8_cp_0_cp_0.Rotation.x = +expr_C8_cp_0_cp_0.Rotation.x - 0.005;
      }
    }
    var flag6 = -$T07().get_Keyboard().get_WSAxis() > 0;
    if (flag6) {
      if (this._CubeTransform.Rotation.x < 0.2) {
        var expr_11B_cp_0_cp_0 = this._CubeTransform;
        expr_11B_cp_0_cp_0.Rotation.x = +expr_11B_cp_0_cp_0.Rotation.x + 0.005;
      }
    }
    var flag8 = +$T07().get_Keyboard().get_ADAxis() === 0;
    if (flag8) {
      if (+this._CubeTransform.Rotation.z > 0) {
        var expr_169_cp_0_cp_0 = this._CubeTransform;
        expr_169_cp_0_cp_0.Rotation.z = +expr_169_cp_0_cp_0.Rotation.z - 0.005;
      }
      if (+this._CubeTransform.Rotation.z < 0) {
        var expr_19F_cp_0_cp_0 = this._CubeTransform;
        expr_19F_cp_0_cp_0.Rotation.z = +expr_19F_cp_0_cp_0.Rotation.z + 0.005;
      }
    }
    var flag11 = -$T07().get_Keyboard().get_ADAxis() < 0;
    if (flag11) {
      if (this._CubeTransform.Rotation.z < 0.2) {
        var expr_1F3_cp_0_cp_0 = this._CubeTransform;
        expr_1F3_cp_0_cp_0.Rotation.z = +expr_1F3_cp_0_cp_0.Rotation.z + 0.01;
      }
    }
    var flag13 = -$T07().get_Keyboard().get_ADAxis() > 0;
    if (flag13) {
      if (this._CubeTransform.Rotation.z > -0.2) {
        var expr_246_cp_0_cp_0 = this._CubeTransform;
        expr_246_cp_0_cp_0.Rotation.z = +expr_246_cp_0_cp_0.Rotation.z - 0.01;
      }
    }
  }; 

  JSIL.MakeType({
      BaseType: $asm04.TypeRef("Fusee.Engine.Core.RenderCanvas"), 
      Name: "FuseeApp.MyFirstFusee", 
      IsPublic: true, 
      IsReferenceType: true, 
      MaximumConstructorArguments: 0, 
    }, function ($ib) {
    $ = $ib;

    $.Method({Static:false, Public:true }, ".ctor", 
      JSIL.MethodSignature.Void, 
      MyFirstFusee__ctor
    );

    $.Method({Static:false, Public:false}, "Creator", 
      new JSIL.MethodSignature($asm04.TypeRef("Fusee.Engine.Core.InputDevice"), [$asm03.TypeRef("Fusee.Engine.Common.IInputDeviceImp")]), 
      MyFirstFusee_Creator
    );

    $.Method({Static:false, Public:true }, "DroneCamera", 
      JSIL.MethodSignature.Void, 
      MyFirstFusee_DroneCamera
    );

    $.Method({Static:false, Public:true }, "FollowCamera", 
      JSIL.MethodSignature.Void, 
      MyFirstFusee_FollowCamera
    );

    $.Method({Static:false, Public:true }, "FreeCamera", 
      JSIL.MethodSignature.Void, 
      MyFirstFusee_FreeCamera
    );

    $.Method({Static:false, Public:false}, "get_cameraType", 
      JSIL.MethodSignature.Return($asm25.TypeRef("FuseeApp.CameraType")), 
      MyFirstFusee_get_cameraType
    );

    $.Method({Static:false, Public:true }, "Idle", 
      JSIL.MethodSignature.Void, 
      MyFirstFusee_Idle
    );

    $.Method({Static:false, Public:true , Virtual:true }, "Init", 
      JSIL.MethodSignature.Void, 
      MyFirstFusee_Init
    );

    $.Method({Static:false, Public:true }, "Movement", 
      JSIL.MethodSignature.Action($.Single), 
      MyFirstFusee_Movement
    );

    $.Method({Static:false, Public:true }, "MoveRotorPermanently", 
      JSIL.MethodSignature.Void, 
      MyFirstFusee_MoveRotorPermanently
    );

    $.Method({Static:false, Public:true }, "MoveXLocal", 
      new JSIL.MethodSignature(null, [
          $.Single, $.Single, 
          $.Single
        ]), 
      MyFirstFusee_MoveXLocal
    );

    $.Method({Static:false, Public:true }, "MoveZLocal", 
      new JSIL.MethodSignature(null, [
          $.Single, $.Single, 
          $.Single
        ]), 
      MyFirstFusee_MoveZLocal
    );

    $.Method({Static:false, Public:true }, "orientation", 
      new JSIL.MethodSignature($asm0A.TypeRef("Fusee.Math.Core.Quaternion"), [$.Single, $.Single]), 
      MyFirstFusee_orientation
    );

    $.Method({Static:false, Public:true , Virtual:true }, "RenderAFrame", 
      JSIL.MethodSignature.Void, 
      MyFirstFusee_RenderAFrame
    );

    $.Method({Static:false, Public:true , Virtual:true }, "Resize", 
      JSIL.MethodSignature.Void, 
      MyFirstFusee_Resize
    );

    $.Method({Static:false, Public:true }, "RotateCamera", 
      new JSIL.MethodSignature(null, [$.Single, $.Single]), 
      MyFirstFusee_RotateCamera
    );

    $.Method({Static:false, Public:false}, "set_cameraType", 
      JSIL.MethodSignature.Action($asm25.TypeRef("FuseeApp.CameraType")), 
      MyFirstFusee_set_cameraType
    );

    $.Method({Static:false, Public:true }, "tilt", 
      JSIL.MethodSignature.Void, 
      MyFirstFusee_tilt
    );

    $.Constant({Static:true , Public:false}, "RotationSpeed", $.Single, 7);

    $.Field({Static:false, Public:false}, "i", $.Single);

    $.Field({Static:false, Public:false}, "_droneScene", $asm0B.TypeRef("Fusee.Serialization.SceneContainer"));

    $.Field({Static:false, Public:false}, "_sceneRenderer", $asm04.TypeRef("Fusee.Engine.Core.SceneRenderer"));

    $.Field({Static:false, Public:false}, "_CubeTransform", $asm0B.TypeRef("Fusee.Serialization.TransformComponent"));

    $.Field({Static:false, Public:false}, "_RRBTransform", $asm0B.TypeRef("Fusee.Serialization.TransformComponent"));

    $.Field({Static:false, Public:false}, "_RRFTransform", $asm0B.TypeRef("Fusee.Serialization.TransformComponent"));

    $.Field({Static:false, Public:false}, "_RLBTransform", $asm0B.TypeRef("Fusee.Serialization.TransformComponent"));

    $.Field({Static:false, Public:false}, "_RLFTransform", $asm0B.TypeRef("Fusee.Serialization.TransformComponent"));

    $.Field({Static:false, Public:false}, "_CamTransform", $asm0B.TypeRef("Fusee.Serialization.TransformComponent"));

    $.Field({Static:false, Public:false}, "_cubeMoveZ", $.Single);

    $.Field({Static:false, Public:false}, "height", $.Single);

    $.Field({Static:false, Public:false}, "idle", $.Single);

    $.Field({Static:false, Public:false}, "speedx", $.Single);

    $.Field({Static:false, Public:false}, "speedz", $.Single);

    $.Field({Static:false, Public:false}, "Yaw", $.Single);

    $.Field({Static:false, Public:false}, "Pitch", $.Single);

    $.Field({Static:false, Public:false}, "MovementSpeed", $.Single);

    $.Field({Static:false, Public:false}, "WorldUp", $asm0A.TypeRef("Fusee.Math.Core.float3"));

    $.Field({Static:false, Public:false}, "Up", $asm0A.TypeRef("Fusee.Math.Core.float3"));

    $.Field({Static:false, Public:false}, "Orientation", $asm0A.TypeRef("Fusee.Math.Core.Quaternion"));

    $.Field({Static:false, Public:false}, "Model", $asm0A.TypeRef("Fusee.Math.Core.float4x4"));

    $.Field({Static:false, Public:false}, "Projection", $asm0A.TypeRef("Fusee.Math.Core.float4x4"));

    $.Field({Static:false, Public:false}, "position", $asm0A.TypeRef("Fusee.Math.Core.float3"));

    $.Field({Static:false, Public:false}, "_cameraType", $asm25.TypeRef("FuseeApp.CameraType"));

    $.Field({Static:false, Public:false}, "newYRot", $.Single);

    $.Field({Static:false, Public:false}, "d", $.Single);

    $.Field({Static:false, Public:false}, "k", $.Int32);

    $.Property({Static:false, Public:false}, "cameraType", $asm25.TypeRef("FuseeApp.CameraType"));


    return function (newThisType) { $thisType = newThisType; }; 
  })
    .Attribute($asm03.TypeRef("Fusee.Engine.Common.FuseeApplicationAttribute"));

})();

/* class FuseeApp.MyFirstFusee+<>c */ 

(function $l$gc$Members () {
  var $, $thisType;
  var $T00 = function () {
    return ($T00 = JSIL.Memoize($asm0B.Fusee.Serialization.SceneNodeContainer)) ();
  };
  var $T01 = function () {
    return ($T01 = JSIL.Memoize($asm0F.System.String)) ();
  };


  function $l$gc__ctor () {
  }; 

  function $l$gc_$lInit$gb__42_0 (node) {
    return node.Name == "Body";
  }; 

  function $l$gc_$lInit$gb__42_1 (node) {
    return node.Name == "Rotor back left";
  }; 

  function $l$gc_$lInit$gb__42_2 (node) {
    return node.Name == "Rotor front left";
  }; 

  function $l$gc_$lInit$gb__42_3 (node) {
    return node.Name == "Rotor back right";
  }; 

  function $l$gc_$lInit$gb__42_4 (node) {
    return node.Name == "Rotor front right";
  }; 

  function $l$gc_$lInit$gb__42_5 (node) {
    return node.Name == "Cam";
  }; 

  JSIL.MakeType({
      BaseType: $asm0F.TypeRef("System.Object"), 
      Name: "FuseeApp.MyFirstFusee+<>c", 
      IsPublic: false, 
      IsReferenceType: true, 
      MaximumConstructorArguments: 0, 
    }, function ($ib) {
    $ = $ib;

    $.Method({Static:false, Public:true }, ".ctor", 
      JSIL.MethodSignature.Void, 
      $l$gc__ctor
    );

    $.Method({Static:false, Public:false}, "$lInit$gb__42_0", 
      new JSIL.MethodSignature($.Boolean, [$asm0B.TypeRef("Fusee.Serialization.SceneNodeContainer")]), 
      $l$gc_$lInit$gb__42_0
    );

    $.Method({Static:false, Public:false}, "$lInit$gb__42_1", 
      new JSIL.MethodSignature($.Boolean, [$asm0B.TypeRef("Fusee.Serialization.SceneNodeContainer")]), 
      $l$gc_$lInit$gb__42_1
    );

    $.Method({Static:false, Public:false}, "$lInit$gb__42_2", 
      new JSIL.MethodSignature($.Boolean, [$asm0B.TypeRef("Fusee.Serialization.SceneNodeContainer")]), 
      $l$gc_$lInit$gb__42_2
    );

    $.Method({Static:false, Public:false}, "$lInit$gb__42_3", 
      new JSIL.MethodSignature($.Boolean, [$asm0B.TypeRef("Fusee.Serialization.SceneNodeContainer")]), 
      $l$gc_$lInit$gb__42_3
    );

    $.Method({Static:false, Public:false}, "$lInit$gb__42_4", 
      new JSIL.MethodSignature($.Boolean, [$asm0B.TypeRef("Fusee.Serialization.SceneNodeContainer")]), 
      $l$gc_$lInit$gb__42_4
    );

    $.Method({Static:false, Public:false}, "$lInit$gb__42_5", 
      new JSIL.MethodSignature($.Boolean, [$asm0B.TypeRef("Fusee.Serialization.SceneNodeContainer")]), 
      $l$gc_$lInit$gb__42_5
    );

    $.Field({Static:true , Public:true , ReadOnly:true }, "$l$g9", $.Type);

    $.Field({Static:true , Public:true }, "$l$g9__42_0", $asm0F.TypeRef("System.Predicate`1", [$asm0B.TypeRef("Fusee.Serialization.SceneNodeContainer")]));

    $.Field({Static:true , Public:true }, "$l$g9__42_1", $asm0F.TypeRef("System.Predicate`1", [$asm0B.TypeRef("Fusee.Serialization.SceneNodeContainer")]));

    $.Field({Static:true , Public:true }, "$l$g9__42_2", $asm0F.TypeRef("System.Predicate`1", [$asm0B.TypeRef("Fusee.Serialization.SceneNodeContainer")]));

    $.Field({Static:true , Public:true }, "$l$g9__42_3", $asm0F.TypeRef("System.Predicate`1", [$asm0B.TypeRef("Fusee.Serialization.SceneNodeContainer")]));

    $.Field({Static:true , Public:true }, "$l$g9__42_4", $asm0F.TypeRef("System.Predicate`1", [$asm0B.TypeRef("Fusee.Serialization.SceneNodeContainer")]));

    $.Field({Static:true , Public:true }, "$l$g9__42_5", $asm0F.TypeRef("System.Predicate`1", [$asm0B.TypeRef("Fusee.Serialization.SceneNodeContainer")]));


    function $l$gc__cctor () {
      $thisType.$l$g9 = new $thisType();
    }; 

    $.Method({Static:true , Public:false}, ".cctor", 
      JSIL.MethodSignature.Void, 
      $l$gc__cctor
    );


    return function (newThisType) { $thisType = newThisType; }; 
  })
    .Attribute($asm0F.TypeRef("System.Runtime.CompilerServices.CompilerGeneratedAttribute"));

})();

